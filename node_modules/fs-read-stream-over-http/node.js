'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var fs = require('fs');

var valitedateOpt = require('./validate-opt');

var fsReadStreamNode = function fsReadStreamNode(path, urlToPath, opt) {
	if ('function' !== typeof urlToPath) {
		throw new Error('urlToPath must be a function.');
	}

	if ('string' === typeof opt) opt = { encoding: opt };else if ('object' !== (typeof opt === 'undefined' ? 'undefined' : _typeof(opt)) || Array.isArray(opt)) {
		throw new Error('opt must be an object or a string.');
	}
	opt = Object.assign({
		flags: 'r',
		encoding: null
	}, opt);
	valitedateOpt(opt);

	return fs.createReadStream(path, opt);
};

module.exports = fsReadStreamNode;